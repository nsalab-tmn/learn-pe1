## Пузырьковая сортировка

Теперь, когда вы можете эффективно манипулировать элементами списков, пора научиться **сортировать** их. К настоящему времени изобретено множество алгоритмов сортировки, которые сильно различаются как по скорости, так и по сложности. Мы собираемся показать вам очень простой алгоритм, легкий для понимания, но, к сожалению, не слишком эффективный. Он используется очень редко, и уж точно не для больших и обширных списков.

Допустим, список можно отсортировать двумя способами:

* возрастающий (точнее - неубывающий) - если в каждой паре соседних элементов первый элемент не больше второго;
* убывающий (точнее - невозрастающий) - если в каждой паре соседних элементов первый элемент не меньше второго.

В следующих разделах мы отсортируем список в порядке возрастания, чтобы числа были упорядочены от наименьшего к наибольшему.

Вот список:

| ```8```  | ```10```  | ```6```  | ```2```  | ```4```  |
|----------|-----------|----------|----------|----------|

Мы попробуем использовать следующий подход: возьмем первый и второй элементы и сравним их; если мы определим, что они расположены в неправильном порядке (т.е. первое больше второго), мы поменяем их местами; если их порядок правильный, мы ничего не будем делать. Проверка нашего списка подтверждает последнее - элементы 01 и 02 расположены в правильном порядке, так как `8 < 10`.

Теперь посмотрим на второй и третий элементы. Они расположены в неправильном порядке. Мы должны их поменять местами:

| ```8```  | ```[!mark!]10[!/mark!]``` | ```[!mark!]6[!/mark!]``` | ```2```  | ```4```  |
|----------|---------------------------|--------------------------|----------|----------|

Идем дальше и смотрим на третий и четвертый элементы. Опять же, это не то, что должно быть. Мы должны их поменять местами:

| ```8```  | ```6``` | ```[!mark!]10[!/mark!]``` | ```[!mark!]2[!/mark!]``` | ```4```  |
|----------|---------|---------------------------|--------------------------|----------|

Теперь проверяем четвертый и пятый элементы. Да, они тоже в неправильном положении. Происходит еще один обмен:

| ```8```  | ```6``` | ```2``` | ```[!mark!]10[!/mark!]``` | ```[!mark!]4[!/mark!]``` |
|----------|---------|---------|---------------------------|--------------------------|

Первый проход по списку уже завершен. Мы все еще далеки от завершения нашей работы, но за это время произошло кое-что любопытное. Самый большой элемент, `10`, уже ушел в конец списка. Обратите внимание, что это **желаемое место** для него. Все остальные элементы образуют живописный беспорядок, но этот уже на месте.

А теперь попробуйте представить список немного иначе, а именно так:

| 10  |
|-----|
| 4   |
| 2   |
| 6   |
| 8   |

Посмотрите - число `10` находится вверху. Можно сказать, что оно всплыло на поверхность, как **пузырь в бокале шампанского**. Метод сортировки получил свое название от того же наблюдения - он называется **пузырьковой сортировкой**.

Теперь мы начнем второй проход по списку. Смотрим первый и второй элементы - нужна замена местами:

| ```[!mark!]6[!/mark!]``` | ```[!mark!]8[!/mark!]``` | ```2``` | ```4``` | ```10``` |
|--------------------------|--------------------------|---------|---------|----------|

Время для второго и третьего элементов: мы тоже должны их поменять местами:

| ```6``` | ```[!mark!]2[!/mark!]``` | ```[!mark!]8[!/mark!]``` | ```4``` | ```10``` |
|---------|--------------------------|--------------------------|---------|----------|

Теперь третий и четвертый элементы, и второй проход завершен, поскольку `8` уже на месте:

| ```6``` | ```2``` | ```[!mark!]4[!/mark!]``` | ```[!mark!]8[!/mark!]``` | ```10``` |
|---------|---------|--------------------------|--------------------------|----------|

Мы немедленно приступаем к следующему проходу. Внимательно следите за первым и вторым элементами - требуется еще одна перестановка:

| ```[!mark!]2[!/mark!]``` | ```[!mark!]6[!/mark!]``` | ```4``` | ```8``` | ```10``` |
|--------------------------|--------------------------|---------|---------|----------|

Теперь нужно поставить на место `6`. Меняем местами второй и третий элементы:

| ```2``` | ```[!mark!]4[!/mark!]``` | ```[!mark!]6[!/mark!]``` | ```8``` | ```10``` |
|---------|--------------------------|--------------------------|---------|----------|

Список уже отсортирован. Нам больше нечего делать. Это именно то, чего мы хотим.

Как видите, суть этого алгоритма проста: **мы сравниваем соседние элементы, и, поменяв местами некоторые из них, достигаем своей цели**.

Давайте закодируем в Python все действия, выполняемые за один проход по списку, а затем посмотрим, сколько проходов нам действительно нужно для его выполнения. Мы пока не объясняли этого, сделаем это чуть позже.


## Сортировка списка

Сколько проходов нам нужно, чтобы отсортировать весь список?

Решаем эту проблему следующим образом: **вводим другую переменную**; ее задача - наблюдать, производился ли какой-либо обмен во время прохода или нет; если замены местами нет, то список уже отсортирован, и больше ничего делать не нужно. Мы создаем переменную с именем `swapped` и присваиваем ей значение `False`, чтобы указать, что замены местами нет. В противном случае ему будет присвоено `True`.

```python
my_list = [8, 10, 6, 2, 4]  # list to sort

for i in range(len(my_list) - 1):  # we need (5 - 1) comparisons
    if my_list[i] > my_list[i + 1]:  # compare adjacent elements
        my_list[i], my_list[i + 1] = my_list[i + 1], my_list[i]  # If we end up here, we have to swap the elements.

```

Вы должны уметь читать и понимать эту программу без каких-либо проблем:

```python
my_list = [8, 10, 6, 2, 4]  # list to sort
swapped = True  # It's a little fake, we need it to enter the while loop.

while swapped:
    swapped = False  # no swaps so far
    for i in range(len(my_list) - 1):
        if my_list[i] > my_list[i + 1]:
            swapped = True  # a swap occurred!
            my_list[i], my_list[i + 1] = my_list[i + 1], my_list[i]

print(my_list)

```

Запустите программу и протестируйте ее.


## Пузырьковая сортировка ‒ интерактивная версия

Вы можете увидеть полную программу, обогащенную беседой с пользователем и позволяющую пользователю вводить и печатать элементы из списка: **Пузырьковая сортировка - окончательная интерактивная версия**.

```python
my_list = []
swapped = True
num = int(input("How many elements do you want to sort: "))

for i in range(num):
    val = float(input("Enter a list element: "))
    my_list.append(val)

while swapped:
    swapped = False
    for i in range(len(my_list) - 1):
        if my_list[i] > my_list[i + 1]:
            swapped = True
            my_list[i], my_list[i + 1] = my_list[i + 1], my_list[i]

print("\nSorted:")
print(my_list)

```

Однако у Python есть свои собственные механизмы сортировки. Никому не нужно писать свои, так как есть достаточное количество **готовых к использованию инструментов**.

Мы объяснили вам эту систему сортировки, потому что важно научиться обрабатывать содержимое списка и показать вам, как может работать настоящая сортировка.

Если вы хотите, чтобы Python отсортировал Ваш список, Вы можете сделать это следующим образом:

```
my_list = [8, 10, 6, 2, 4]
[!mark!]my_list.sort()[!/mark!]
print(my_list)
```

Это так просто.

Вывод фрагмента кода выглядит следующим образом:

```
[2, 4, 6, 8, 10]
```

Как видите, все списки имеют метод с именем `sort()`, который сортирует их как можно быстрее. Вы уже узнали о некоторых методах списков раньше, и очень скоро вы узнаете больше о других.

  
## Основные тезисы

1. Вы можете использовать метод `sort()` для сортировки элементов списка, например:

    ```python
    lst = [5, 3, 1, 2, 4]
    print(lst)
    
    lst.sort()
    print(lst)  # outputs: [1, 2, 3, 4, 5]
    
    ```

2. Существует также метод списка под названием `reverse()`, который можно использовать для переворота списка, например:

    ```python
    lst = [5, 3, 1, 2, 4]
    print(lst)
    
    lst.reverse()
    print(lst)  # outputs: [4, 2, 1, 3, 5]
    
    ```  
  

**Упражнение 1**

Что выведет следующий фрагмент кода?

```python
lst = ["D", "F", "A", "Z"]
lst.sort()

print(lst)

```

<details><summary>Проверка</summary>

`['A', 'D', 'F', 'Z']`

</details> 


**Упражнение 2**

Что выведет следующий фрагмент кода?

```python
a = 3
b = 1
c = 2

lst = [a, c, b]
lst.sort()

print(lst)

```

<details><summary>Проверка</summary>

`[1, 2, 3]`

</details> 


**Упражнение 3**

Что выведет следующий фрагмент кода?

```python
a = "A"
b = "B"
c = "C"
d = " "

lst = [a, b, c, d]
lst.reverse()

print(lst)

```

<details><summary>Проверка</summary>

`[' ', 'C', 'B', 'A']`

</details> 

